<main class="reserva-container">

  <section class="reserva-card">
    
    <header class="card-header">
      <h1 class="titulo">Solicitar Reserva de Auditório</h1>
      <p class="subtitulo">Preencha os dados abaixo para enviar sua solicitação.</p>
    </header>

    <form (ngSubmit)="solicitarReserva()" [formGroup]="reservaForm" novalidate>
      
      <div class="input-group">
        <label for="auditorio">Auditório Desejado</label>
        <div class="input-wrapper">
          <i class="icon"><!-- SVG para Prédio -->
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="3" y1="9" x2="21" y2="9"></line><line x1="9" y1="21" x2="9" y2="9"></line></svg>
          </i>
          <select id="auditorio" formControlName="auditorio" class="form-control">
            <option [ngValue]="null" disabled>Selecione um auditório...</option>
            <option *ngFor="let auditorio of auditoriosDisponiveis" [ngValue]="auditorio">
              {{ auditorio.nomeAuditorio }} ({{ auditorio.localAuditorio.nomeSetor }})
            </option>
          </select>
        </div>
        <div *ngIf="form.auditorio.invalid && (form.auditorio.dirty || form.auditorio.touched)" class="error-message">
          Por favor, selecione um auditório.
        </div>
      </div>
      
      <div class="input-group">
        <label for="nomeEvento">Nome do Evento / Finalidade</label>
        <div class="input-wrapper">
          <i class="icon"><!-- SVG para Evento -->
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>
          </i>
          <input type="text" id="nomeEvento" formControlName="nomeEvento" class="form-control" placeholder="Ex: Palestra sobre História do Acre">
        </div>
        <div *ngIf="form.nomeEvento.invalid && (form.nomeEvento.dirty || form.nomeEvento.touched)" class="error-message">
          O nome do evento é obrigatório.
        </div>
      </div>

      <div class="form-row">
        <div class="input-group">
          <label for="data">Data</label>
           <div class="input-wrapper">
             <i class="icon"><!-- SVG para Calendário -->
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M8 2v4"/><path d="M16 2v4"/><rect width="18" height="18" x="3" y="4" rx="2"/><path d="M3 10h18"/></svg>
             </i>
            <input type="date" id="data" formControlName="data" class="form-control">
           </div>
          <div *ngIf="form.data.invalid && (form.data.dirty || form.data.touched)" class="error-message">
            Data obrigatória.
          </div>
        </div>
        <div class="input-group">
          <label for="horaInicio">Início</label>
           <div class="input-wrapper">
             <i class="icon"><!-- SVG para Relógio -->
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>
             </i>
            <input type="time" id="horaInicio" formControlName="horaInicio" class="form-control">
           </div>
          <div *ngIf="form.horaInicio.invalid && (form.horaInicio.dirty || form.horaInicio.touched)" class="error-message">
            Hora obrigatória.
          </div>
        </div>
        <div class="input-group">
          <label for="horaFim">Fim</label>
           <div class="input-wrapper">
             <i class="icon"><!-- SVG para Relógio -->
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>
             </i>
            <input type="time" id="horaFim" formControlName="horaFim" class="form-control">
           </div>
           <div *ngIf="form.horaFim.invalid && (form.horaFim.dirty || form.horaFim.touched)" class="error-message">
            Hora obrigatória.
          </div>
        </div>
      </div>
      
      <div class="input-group">
        <label for="observacoes">Observações (opcional)</label>
         <div class="input-wrapper">
           <i class="icon"><!-- SVG para Comentário -->
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path></svg>
           </i>
          <textarea id="observacoes" formControlName="observacoes" class="form-control" rows="3" placeholder="Ex: Necessidade de microfone e projetor."></textarea>
         </div>
      </div>

      <button type="submit" class="btn-submit" [disabled]="reservaForm.invalid">
        Enviar Solicitação
      </button>

    </form>
  </section>
</main>